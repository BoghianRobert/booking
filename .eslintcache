[{"/home/robo/Projects/booking/src/index.js":"1","/home/robo/Projects/booking/src/App.js":"2","/home/robo/Projects/booking/src/reportWebVitals.js":"3","/home/robo/Projects/booking/src/routes.js":"4","/home/robo/Projects/booking/src/components/Main.js":"5","/home/robo/Projects/booking/src/utils/routeConstants.js":"6","/home/robo/Projects/booking/src/utils/index.js":"7","/home/robo/Projects/booking/src/components/HoursColumn.js":"8","/home/robo/Projects/booking/src/env.js":"9","/home/robo/Projects/booking/src/actions/playActions.js":"10","/home/robo/Projects/booking/src/actions/actionTypes.js":"11","/home/robo/Projects/booking/src/components/PlayRoom.js":"12","/home/robo/Projects/booking/src/reducers/rootReducers.js":"13","/home/robo/Projects/booking/src/reducers/playReducer.js":"14","/home/robo/Projects/booking/src/reducers/theaterReducer.js":"15","/home/robo/Projects/booking/src/actions/theaterActions.js":"16","/home/robo/Projects/booking/src/utils/getSeats.js":"17","/home/robo/Projects/booking/src/utils/findSeat.js":"18","/home/robo/Projects/booking/src/utils/getSeatPrice.js":"19","/home/robo/Projects/booking/src/utils/getTotalPrice.js":"20","/home/robo/Projects/booking/src/components/Admin.js":"21","/home/robo/Projects/booking/src/components/ControlPanel.js":"22","/home/robo/Projects/booking/src/utils/formatDate.js":"23","/home/robo/Projects/booking/src/utils/getTicketId.js":"24","/home/robo/Projects/booking/src/utils/buildDate.js":"25","/home/robo/Projects/booking/src/utils/buildDateNewPlay.js":"26","/home/robo/Projects/booking/src/components/PaymentHistory.js":"27"},{"size":999,"mtime":1618324792504,"results":"28","hashOfConfig":"29"},{"size":197,"mtime":1618324792504,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1618324792505,"results":"31","hashOfConfig":"29"},{"size":904,"mtime":1618324792505,"results":"32","hashOfConfig":"29"},{"size":6943,"mtime":1629106105589,"results":"33","hashOfConfig":"29"},{"size":181,"mtime":1618324792505,"results":"34","hashOfConfig":"29"},{"size":816,"mtime":1618324792505,"results":"35","hashOfConfig":"29"},{"size":652,"mtime":1618324792504,"results":"36","hashOfConfig":"29"},{"size":250,"mtime":1618324792504,"results":"37","hashOfConfig":"29"},{"size":161,"mtime":1618324792504,"results":"38","hashOfConfig":"29"},{"size":132,"mtime":1618324792504,"results":"39","hashOfConfig":"29"},{"size":5535,"mtime":1629047770630,"results":"40","hashOfConfig":"29"},{"size":224,"mtime":1618324792505,"results":"41","hashOfConfig":"29"},{"size":326,"mtime":1618324792505,"results":"42","hashOfConfig":"29"},{"size":345,"mtime":1618324792505,"results":"43","hashOfConfig":"29"},{"size":179,"mtime":1618324792504,"results":"44","hashOfConfig":"29"},{"size":187,"mtime":1618324792505,"results":"45","hashOfConfig":"29"},{"size":264,"mtime":1626979092180,"results":"46","hashOfConfig":"29"},{"size":127,"mtime":1618324792505,"results":"47","hashOfConfig":"29"},{"size":284,"mtime":1618324792505,"results":"48","hashOfConfig":"29"},{"size":1309,"mtime":1629049923628,"results":"49","hashOfConfig":"29"},{"size":15750,"mtime":1629105316469,"results":"50","hashOfConfig":"29"},{"size":352,"mtime":1618324792505,"results":"51","hashOfConfig":"29"},{"size":278,"mtime":1618324792505,"results":"52","hashOfConfig":"29"},{"size":414,"mtime":1618324792505,"results":"53","hashOfConfig":"29"},{"size":211,"mtime":1618324792505,"results":"54","hashOfConfig":"29"},{"size":3497,"mtime":1629047909317,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"yexe87",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"58"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"/home/robo/Projects/booking/src/index.js",[],["112","113"],"/home/robo/Projects/booking/src/App.js",[],"/home/robo/Projects/booking/src/reportWebVitals.js",[],"/home/robo/Projects/booking/src/routes.js",[],"/home/robo/Projects/booking/src/components/Main.js",[],"/home/robo/Projects/booking/src/utils/routeConstants.js",[],"/home/robo/Projects/booking/src/utils/index.js",[],"/home/robo/Projects/booking/src/components/HoursColumn.js",[],"/home/robo/Projects/booking/src/env.js",[],"/home/robo/Projects/booking/src/actions/playActions.js",[],"/home/robo/Projects/booking/src/actions/actionTypes.js",[],"/home/robo/Projects/booking/src/components/PlayRoom.js",["114"],"import React , { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { getSeats } from '../utils/getSeats'\nimport { findSeat } from '../utils/findSeat'\nimport { getSeatPrice } from '../utils/getSeatPrice'\nimport { getTotalPrice } from '../utils/getTotalPrice'\nimport { getTicketId } from '../utils/getTicketId'\nimport { buildDate } from '../utils/buildDate'\nimport Axios from 'axios'\nimport { url } from '../env'\n\n\n\nconst PlayRoom = ({play, theater, history}) => {\n    const [seats, setSeats] = useState([])\n    const [location, setLocation] = useState({})\n    const [tickets, setTickets] = useState([])\n    const [takenTickets, setTakenTickets] = useState([])\n    const [selectedSeats, setSelectedSeats] = useState([])\n    const [showOrder, setShowOrder] = useState(false)\n    const [customerData, setCustomerData] = useState({})\n    const [presentPlay, setPresentPlay] = useState({})\n    const [admin, setAdmin] = useState('')\n\n    useEffect(() => {\n        const getTickets = () => {\n          Axios.get(url.ticket)\n          .then((res) => {\n              setTickets(res.data)\n          })\n          .catch((err) => {\n              alert(err)\n              console.log(err)\n          })  \n        }\n        getTickets();\n      }, [])\n\n    useEffect(() => {\n        let numberOfSeats = JSON.parse(localStorage.getItem('totalSeats'));\n        let currentPlay = JSON.parse(localStorage.getItem('play'));\n        setSeats(getSeats(numberOfSeats))\n        setLocation(numberOfSeats)\n        setTakenTickets(findSeat(currentPlay,tickets))\n        setPresentPlay(currentPlay)\n    }, [theater, play, tickets]) \n\n    useEffect(() => {\n        let localAdmin = JSON.parse(localStorage.getItem('admin'))\n        setAdmin(localAdmin)\n    })\n\n\n\n    const chooseSeat = (seat) => {\n        if (takenTickets.includes(seat) === true) {\n            return 0\n        }\n        if (!selectedSeats.includes(seat))\n            setSelectedSeats(selectedSeats => [...selectedSeats, seat]);\n        else {\n            setSelectedSeats(selectedSeats.filter(item => item !== seat))\n        }\n    }\n\n    const completeOrder = async (selectedSeats) =>  {\n        let ticketIds = getTicketId(tickets, selectedSeats, presentPlay)\n        let currentDate = buildDate()\n        if (!customerData.fullName) {\n            alert('Enter a name!')\n            return 0\n        }\n        else if (customerData.phoneNumber?.length !== 9){\n            alert('Phone number has to have 9 digits')\n            return 0\n        } else if (!customerData.email.includes('@') || !customerData.email.includes('.')){\n            alert('The E-mail address does not exist')\n            return 0\n        }\n        else{\n            try {\n                const resp = await Axios.post(url.payment, { customerDto: customerData, ticketIds, dateTime: currentDate });\n                console.log(resp.data);\n                alert('Order placed successfully!')\n            } catch (err) {\n                alert(err)\n                console.error(err);\n            }\n        }\n        history.push('/')\n    }\n\n    return (\n        <div>\n            <div className='theater-name' >{location.name}</div>\n            <div className='theater-address' >{location.address}</div>\n            <div className='screen'>STAGE</div>\n            <div className='seat-wrap'>\n                \n                {seats?.map((seat, index) => {\n                    return (\n                        <div key={index} \n                        style={takenTickets.includes(seat) ? {backgroundColor: 'red', cursor:'not-allowed'} : selectedSeats.includes(seat) ? {backgroundColor: '#00cc00', cursor:'pointer'} : {backgroundColor: '#ddd', cursor:'pointer'}}\n                        onClick={() => chooseSeat(seat)}>\n                            <p>Seat no. {seat} - ${getSeatPrice(seat)}</p>\n                        </div>\n                    )\n                })}\n            </div> \n            {selectedSeats?.length > 0 &&\n                <button className='start-order' onClick={() => setShowOrder(true)}>Place Order</button>\n            }\n\n            {admin === null ?\n                <button className='button-to-home' onClick={() => history.push('/')}>Home</button> :\n                <button className='button-to-home' onClick={() => history.push('/control-panel')}>Go to Panel</button>\n            }\n\n            { showOrder && \n                <div className=\"customer-form\">\n                    <form className='form-container'>\n                        <input type=\"text\" name='fullName' placeholder='Full Name'  onChange={e=> setCustomerData({...customerData, [e.target.name]: e.target.value})} />\n                        <input type=\"number\" name='phoneNumber' placeholder='Phone Number' onChange={e=> setCustomerData({...customerData, [e.target.name]: e.target.value})} />\n                        <input type=\"email\" name='email' placeholder='Email' onChange={e=> setCustomerData({...customerData, [e.target.name]: e.target.value})} />\n\n                        <div onClick={() => completeOrder(selectedSeats) } className='place-order'>Complete Order - ${getTotalPrice(selectedSeats)}</div>\n                        <div onClick={() => setShowOrder(false) } className='close-button'>Cancel</div>\n                    </form>\n                </div> \n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n      play: state.playReducer.play,\n      theater: state.theaterReducer.theater,\n    }\n}\n  \nexport default connect(mapStateToProps)(PlayRoom);\n","/home/robo/Projects/booking/src/reducers/rootReducers.js",[],"/home/robo/Projects/booking/src/reducers/playReducer.js",[],"/home/robo/Projects/booking/src/reducers/theaterReducer.js",[],"/home/robo/Projects/booking/src/actions/theaterActions.js",[],"/home/robo/Projects/booking/src/utils/getSeats.js",[],"/home/robo/Projects/booking/src/utils/findSeat.js",[],"/home/robo/Projects/booking/src/utils/getSeatPrice.js",[],"/home/robo/Projects/booking/src/utils/getTotalPrice.js",[],"/home/robo/Projects/booking/src/components/Admin.js",[],"/home/robo/Projects/booking/src/components/ControlPanel.js",["115","116","117","118"],"/home/robo/Projects/booking/src/utils/formatDate.js",[],"/home/robo/Projects/booking/src/utils/getTicketId.js",[],"/home/robo/Projects/booking/src/utils/buildDate.js",[],"/home/robo/Projects/booking/src/utils/buildDateNewPlay.js",[],"/home/robo/Projects/booking/src/components/PaymentHistory.js",[],{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":48,"column":5,"nodeType":"125","endLine":48,"endColumn":14,"suggestions":"126"},{"ruleId":"127","severity":1,"message":"128","line":329,"column":67,"nodeType":"129","endLine":329,"endColumn":94},{"ruleId":"127","severity":1,"message":"128","line":350,"column":67,"nodeType":"129","endLine":350,"endColumn":94},{"ruleId":"127","severity":1,"message":"128","line":371,"column":67,"nodeType":"129","endLine":371,"endColumn":94},{"ruleId":"127","severity":1,"message":"128","line":392,"column":67,"nodeType":"129","endLine":392,"endColumn":94},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setAdmin'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [] as a second argument to the useEffect Hook.","Identifier",["132"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation",{"desc":"133","fix":"134"},"Add dependencies array: []",{"range":"135","text":"136"},[1759,1759],", []"]